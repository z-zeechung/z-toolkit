exports.id=738,exports.ids=[738],exports.modules={94738:(e,s,a)=>{"use strict";a.r(s),a.d(s,{SearchChatPage:()=>u});var t=a(95344),i=a(3729),n=a(99668),r=a(94313),l=a.n(r),m=a(17304),c=a(70580),d=a(26989),o=a(32168),h=a(82860),k=a(99608),_=a(33362);function u(){let e=(0,m.s0)(),s=(0,_.aK)(),a=s.sessions,r=s.selectSession,[u,x]=(0,i.useState)([]),g=(0,i.useRef)(""),f=(0,i.useRef)(null),j=(0,i.useCallback)(e=>{let s=e.toLowerCase(),t=[];return a.forEach((e,a)=>{let i=[];e.messages.forEach(e=>{let a=e.content;if(!a.toLowerCase||""===a)return;let t=a.toLowerCase(),n=t.indexOf(s);for(;-1!==n;){let e=Math.max(0,n-35),r=Math.min(a.length,n+s.length+35);i.push(a.substring(e,r)),n=t.indexOf(s,n+s.length)}}),i.length>0&&t.push({id:a,name:e.topic,content:i.join("... ")})}),t.sort((e,s)=>s.content.length-e.content.length),t},[]);return(0,i.useEffect)(()=>{let e=setInterval(()=>{if(f.current){let e=f.current.value;e!==g.current&&(e.length>0&&x(j(e)),g.current=e)}},1e3);return()=>clearInterval(e)},[j]),t.jsx(n.S,{children:(0,t.jsxs)("div",{className:l()["mask-page"],children:[(0,t.jsxs)("div",{className:"window-header",children:[(0,t.jsxs)("div",{className:"window-header-title",children:[t.jsx("div",{className:"window-header-main-title",children:h.ZP.SearchChat.Page.Title}),t.jsx("div",{className:"window-header-submai-title",children:h.ZP.SearchChat.Page.SubTitle(u.length)})]}),t.jsx("div",{className:"window-actions",children:t.jsx("div",{className:"window-action-button",children:t.jsx(c.h,{icon:t.jsx(d.Z,{}),bordered:!0,onClick:()=>e(-1)})})})]}),(0,t.jsxs)("div",{className:l()["mask-page-body"],children:[t.jsx("div",{className:l()["mask-filter"],children:t.jsx("input",{type:"text",className:l()["search-bar"],placeholder:h.ZP.SearchChat.Page.Search,autoFocus:!0,ref:f,onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let s=e.currentTarget.value;s.length>0&&x(j(s))}}})}),t.jsx("div",{children:u.map(s=>(0,t.jsxs)("div",{className:l()["mask-item"],onClick:()=>{e(k.y$.Chat),r(s.id)},style:{cursor:"pointer"},children:[t.jsx("div",{className:l()["mask-header"],children:(0,t.jsxs)("div",{className:l()["mask-title"],children:[t.jsx("div",{className:l()["mask-name"],children:s.name}),s.content.slice(0,70)]})}),t.jsx("div",{className:l()["mask-actions"],children:t.jsx(c.h,{icon:t.jsx(o.Z,{}),text:h.ZP.SearchChat.Item.View})})]},s.id))})]})]})})}},94313:e=>{e.exports={"mask-page":"mask_mask-page__ou14k","mask-page-body":"mask_mask-page-body__kBXsJ","mask-filter":"mask_mask-filter__OdpU3","slide-in":"mask_slide-in__unpXH","search-bar":"mask_search-bar__7_Msn","mask-filter-lang":"mask_mask-filter-lang__mRxyv","mask-create":"mask_mask-create__BjAzk","mask-item":"mask_mask-item__dinia","mask-header":"mask_mask-header__RXJXI","mask-icon":"mask_mask-icon__wO1ER","mask-title":"mask_mask-title__IDEbR","mask-name":"mask_mask-name__77Rjh","mask-info":"mask_mask-info__2gtiu","mask-actions":"mask_mask-actions__rsWn_","slide-in-from-top":"mask_slide-in-from-top__DOEYB"}}};