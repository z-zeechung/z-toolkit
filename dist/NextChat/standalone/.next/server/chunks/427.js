exports.id=427,exports.ids=[427],exports.modules={50952:(e,t,a)=>{"use strict";a.d(t,{UK:()=>c,YZ:()=>l,x6:()=>r});var s=a(3729),n=a(76060),i=a(82860);function l(e={}){let[t,a]=(0,n.lr)();(0,s.useEffect)(()=>{let s=!1;t.forEach((a,n)=>{"function"==typeof e[n]&&(e[n](a),t.delete(n),s=!0)}),s&&a(t)},[t,e])}let r=/^[:ï¼š]/;function c(e={}){function t(e){return e.match(r)?e.slice(1):e}return{match:function(a){let s=t(a),n="function"==typeof e[s];return{matched:n,invoke:()=>n&&e[s](a)}},search:function(a){let s=t(a),n=i.ZP.Chat.Commands;return Object.keys(e).filter(e=>e.startsWith(s)).map(e=>({title:n[e],content:":"+e}))}}}},97427:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NewChat:()=>Z});var s,n,i=a(95344),l=a(3729),r=a(99608),c=a(70580),h=a(67938),o=a(86466),m=a.n(o),d=a(86827),_=a(6413);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(null,arguments)}let k=function(e){return _.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),_.createElement("g",null,s||(s=_.createElement("mask",{id:"lightning_svg__b",fill:"#fff"},_.createElement("use",{xlinkHref:"#lightning_svg__a"}))),_.createElement("g",{mask:"url(#lightning_svg__b)"},_.createElement("path",{style:{fill:"#333",opacity:1},d:"M2.248 8.852a.665.665 0 0 1-.172-.828l3.67-7a.664.664 0 0 1 .59-.357h6a.662.662 0 0 1 .634.46.669.669 0 0 1-.11.618l-2.822 3.592h3.629a.661.661 0 0 1 .605.387.663.663 0 0 1-.116.732l-8 8.66a.664.664 0 0 1-.893.078.66.66 0 0 1-.257-.441.66.66 0 0 1 .016-.26L6.472 9H2.666a.657.657 0 0 1-.42-.148zm1.52-1.185h3.569a.665.665 0 0 1 .644.836l-.986 3.74 5.148-5.573H8.667a.665.665 0 0 1-.63-.885.662.662 0 0 1 .105-.194L10.965 2H6.74z"}))),n||(n=_.createElement("defs",null,_.createElement("path",{id:"lightning_svg__a",d:"M0 0h16v16H0z"}))))};var u=a(32168),w=a(17304),v=a(1566),x=a(82860),g=a(33362),p=a(86111),j=a(50952),N=a(6068),C=a(50197),y=a(56815);function E(e){return(0,i.jsxs)("div",{className:m().mask,onClick:e.onClick,children:[i.jsx(p.MaskAvatar,{avatar:e.mask.avatar,model:e.mask.modelConfig.model}),i.jsx("div",{className:(0,y.Z)(m()["mask-name"],"one-line"),children:e.mask.name})]})}function Z(){let e=(0,g.aK)(),t=(0,v.Zy)(),a=function(e){let[t,a]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let t=()=>{let t=document.getElementById(r.ym.AppBody);if(!t||0===e.length)return;let s=t.getBoundingClientRect(),n=s.width,i=.6*s.height,l=()=>e[Math.floor(Math.random()*e.length)],c=0,h=()=>e[c++%e.length],o=Math.ceil(n/120);a(Array(Math.ceil(i/50)).fill(0).map((e,t)=>Array(o).fill(0).map((e,t)=>t<1||t>o-2?l():h())))};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),t}(t.getAll()),s=(0,w.s0)(),n=(0,g.MG)(),o=(0,l.useRef)(null),{state:_}=(0,w.TH)(),f=t=>{setTimeout(()=>{e.newSession(t),s(r.y$.Chat)},10)};return(0,j.YZ)({mask:e=>{try{let a=t.get(e)??C.$n.get(e);f(a??void 0)}catch{console.error("[New Chat] failed to create chat from mask id=",e)}}}),(0,l.useEffect)(()=>{o.current&&(o.current.scrollLeft=(o.current.scrollWidth-o.current.clientWidth)/2)},[a]),(0,i.jsxs)("div",{className:m()["new-chat"],children:[(0,i.jsxs)("div",{className:m()["mask-header"],children:[i.jsx(c.h,{icon:i.jsx(d.Z,{}),text:x.ZP.NewChat.Return,onClick:()=>s(r.y$.Home)}),!_?.fromHome&&i.jsx(c.h,{text:x.ZP.NewChat.NotShow,onClick:async()=>{await (0,N.i0)(x.ZP.NewChat.ConfirmNoShow)&&(f(),n.update(e=>e.dontShowMaskSplashScreen=!0))}})]}),(0,i.jsxs)("div",{className:m()["mask-cards"],children:[i.jsx("div",{className:m()["mask-card"],children:i.jsx(h.eL,{avatar:"1f606",size:24})}),i.jsx("div",{className:m()["mask-card"],children:i.jsx(h.eL,{avatar:"1f916",size:24})}),i.jsx("div",{className:m()["mask-card"],children:i.jsx(h.eL,{avatar:"1f479",size:24})})]}),i.jsx("div",{className:m().title,children:x.ZP.NewChat.Title}),i.jsx("div",{className:m()["sub-title"],children:x.ZP.NewChat.SubTitle}),(0,i.jsxs)("div",{className:m().actions,children:[i.jsx(c.h,{text:x.ZP.NewChat.More,onClick:()=>s(r.y$.Masks),icon:i.jsx(u.Z,{}),bordered:!0,shadow:!0}),i.jsx(c.h,{text:x.ZP.NewChat.Skip,onClick:()=>f(),icon:i.jsx(k,{}),type:"primary",shadow:!0,className:m().skip})]}),i.jsx("div",{className:m().masks,ref:o,children:a.map((e,t)=>i.jsx("div",{className:m()["mask-row"],children:e.map((e,t)=>i.jsx(E,{mask:e,onClick:()=>f(e)},t))},t))})]})}},86466:e=>{e.exports={"new-chat":"new-chat_new-chat__63RF3","mask-header":"new-chat_mask-header__nBwht","slide-in-from-top":"new-chat_slide-in-from-top__kKaCc","mask-cards":"new-chat_mask-cards__W1FzL","slide-in":"new-chat_slide-in__VIaHY","mask-card":"new-chat_mask-card__EXvr1",title:"new-chat_title__lfHL6","sub-title":"new-chat_sub-title__qYtID",actions:"new-chat_actions__ntcag",skip:"new-chat_skip__js1_N",masks:"new-chat_masks__ArNS9","mask-row":"new-chat_mask-row__ZRTfV",mask:"new-chat_mask__P5aBk","mask-name":"new-chat_mask-name__AytPM"}}};