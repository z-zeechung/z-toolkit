"use strict";(()=>{var e={};e.id=662,e.ids=[662,888,660],e.modules={3862:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>u,getServerSideProps:()=>h,getStaticPaths:()=>m,getStaticProps:()=>x,reportWebVitals:()=>_,routeModule:()=>P,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>b});var r=a(7093),l=a(5244),n=a(1323),o=a(9209),i=a.n(o),c=a(4807),p=a(1453),d=e([c,p]);[c,p]=d.then?(await d)():d;let u=(0,n.l)(p,"default"),x=(0,n.l)(p,"getStaticProps"),m=(0,n.l)(p,"getStaticPaths"),h=(0,n.l)(p,"getServerSideProps"),g=(0,n.l)(p,"config"),_=(0,n.l)(p,"reportWebVitals"),b=(0,n.l)(p,"unstable_getStaticProps"),v=(0,n.l)(p,"unstable_getStaticPaths"),j=(0,n.l)(p,"unstable_getStaticParams"),y=(0,n.l)(p,"unstable_getServerProps"),f=(0,n.l)(p,"unstable_getServerSideProps"),P=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/settings",pathname:"/settings",bundlePath:"",filename:""},components:{App:c.default,Document:i()},userland:p});s()}catch(e){s(e)}})},4267:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{b:()=>useModels});var r=a(5776),l=a(1649),n=a(9926),o=a(3532),i=e([r,n,o]);[r,n,o]=i.then?(await i)():i;let c=n.z.object({name:n.z.string(),max_tokens:n.z.number(),has_access:n.z.boolean()}),p=n.z.array(c);function useModels(){let{data:e}=(0,l.useSession)(),t=(0,r.useQuery)(["llm"],async()=>await (0,o.U2)("/api/models",p,e?.accessToken),{enabled:!!e?.accessToken});return{models:t.data??[],getModel:e=>t.data?.find(t=>t.name===e)}}s()}catch(e){s(e)}})},1453:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__,getStaticProps:()=>getStaticProps});var r=a(997),l=a(2167),n=a.n(l),o=a(8103),i=a.n(o),c=a(1377),p=a(5460),d=a(6689),u=a(9583),x=a(1175),m=a.n(x),h=a(1071),g=a(9579),_=a(4267),b=a(9654),v=a(7199),j=a(2151),y=a(7922),f=a(870),P=a(6947),S=e([h,_,b,v,j]);[h,_,b,v,j]=S.then?(await S)():S;let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e]=(0,c.useTranslation)("settings"),{settings:t,updateSettings:a,updateLangauge:s}=(0,b.r)(),{session:l}=(0,g.a)({protectedRoute:!0}),{models:o,getModel:p}=(0,_.b)(),[x,m]=(0,d.useState)(void 0),validateApiKey=async()=>{try{await n().get("https://api.openai.com/v1/engines",{headers:{Authorization:`Bearer ${t.customApiKey}`}}),m(!0)}catch(e){m(!1)}},S=!l?.user,N=p(t.customModelName)||{name:t.customModelName,max_tokens:2e3,has_access:!0};return r.jsx(v.Z,{children:r.jsx("div",{className:"min-h-screen flex-grow",children:(0,r.jsxs)("div",{className:"",children:[r.jsx(h.Z,{initialX:-45,initialY:0,delay:.1,className:"border-b border-slate-6 px-10 py-10",children:(0,r.jsxs)("div",{children:[" ",r.jsx("h1",{className:"text-4xl font-bold text-slate-12",children:"Settings"}),r.jsx("h2",{className:"text-xl font-light text-slate-12",children:"Customize your agent experience"})]})}),(0,r.jsxs)(h.Z,{initialY:45,delay:.1,className:"mt-4 px-10",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[r.jsx(y.Z,{label:"Language",value:t.language,valueMapper:e=>e.name,onChange:e=>{s(e).catch(console.error)},items:P.Mj,icon:r.jsx(u.ssk,{})}),r.jsx(f.Z,{label:"API Key",name:"api-key",placeholder:"sk...",helpText:(0,r.jsxs)("span",{children:["You can optionally use your own API key here. You can find your API key in your"," ",r.jsx("a",{className:"link",href:"https://platform.openai.com/account/api-keys",children:"OpenAI dashboard."})]}),type:"text",value:t.customApiKey,onChange:e=>{m(void 0),a("customApiKey",e.target.value)},icon:r.jsx(u.q2z,{}),className:"flex-grow-1 mr-2",right:(0,r.jsxs)(j.Z,{onClick:validateApiKey,className:i()("transition-400 h-11 w-16 rounded text-sm text-white duration-200",void 0===x&&"bg-gray-500 hover:bg-gray-700",!0===x&&"bg-green-500 hover:bg-green-700",!1===x&&"bg-red-500 hover:bg-red-700"),children:[void 0===x&&"Test",!0===x&&r.jsx(u.FJM,{}),!1===x&&r.jsx(u.a4m,{})]})})]}),!S&&(0,r.jsxs)("div",{className:"mt-4 flex flex-col ",children:[r.jsx("h1",{className:"pb-4 text-xl font-bold text-slate-12",children:"Advanced Settings"}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[r.jsx(y.Z,{label:"Model",value:N,valueMapper:e=>e.name,onChange:e=>{t.maxTokens>e.max_tokens&&a("maxTokens",e.max_tokens),a("customModelName",e.name)},items:o,icon:r.jsx(u.iNY,{})}),r.jsx(f.Z,{label:`${e("TEMPERATURE")}`,value:t.customTemperature,name:"temperature",type:"range",onChange:e=>a("customTemperature",parseFloat(e.target.value)),attributes:{min:0,max:1,step:.01},helpText:e("HIGHER_VALUES_MAKE_OUTPUT_MORE_RANDOM"),icon:r.jsx(u.uMm,{}),disabled:S}),r.jsx(f.Z,{label:`${e("LOOP")}`,value:t.customMaxLoops,name:"loop",type:"range",onChange:e=>a("customMaxLoops",parseFloat(e.target.value)),attributes:{min:1,max:25,step:1},helpText:e("CONTROL_THE_MAXIMUM_NUM_OF_LOOPS"),icon:r.jsx(u.dnK,{}),disabled:S}),r.jsx(f.Z,{label:`${e("TOKENS")}`,value:t.maxTokens,name:"tokens",type:"range",onChange:e=>a("maxTokens",parseFloat(e.target.value)),attributes:{min:200,max:N.max_tokens,step:100},helpText:e("CONTROL_MAXIMUM_OF_TOKENS_DESCRIPTION"),icon:r.jsx(u.vAr,{}),disabled:S})]})]})]})]})})})},getStaticProps=async({locale:e="en"})=>{let t=P.Mj.map(e=>e.code),a=t.includes(e)?e:"en";return{props:{...await (0,p.serverSideTranslations)(a,m().ns)}}};s()}catch(e){s(e)}})},7922:(e,t,a)=>{a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(997),r=a(4285),l=a(8103),n=a.n(l),o=a(6689),i=a(9274);let __WEBPACK_DEFAULT_EXPORT__=({items:e,...t})=>{let[a,l]=(0,o.useState)(""),c=""===a?e:e.filter(e=>t.valueMapper(e).toLowerCase().includes(a.toLowerCase()));return(0,s.jsxs)(r.h,{as:"div",value:t.value,onChange:t.onChange,children:[(0,s.jsxs)(r.h.Label,{className:"flex items-center gap-2 text-sm font-bold leading-6 text-slate-12",children:[t.icon,t.label]}),(0,s.jsxs)("div",{className:"relative mt-1",children:[s.jsx(r.h.Input,{className:"w-full rounded-md border-0 bg-slate-1 py-1.5 pl-3 pr-10 text-slate-12 shadow-depth-1 transition-colors sm:text-sm sm:leading-6",onChange:e=>l(e.target.value),displayValue:e=>t.valueMapper(e)}),s.jsx(r.h.Button,{className:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",children:s.jsx(i.kWQ,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),c.length>0&&s.jsx(r.h.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-slate-1 py-1 text-slate-12 shadow-lg ring-opacity-5 focus:outline-none sm:text-sm",children:c.map((e,a)=>s.jsx(r.h.Option,{value:e,className:({active:e})=>n()("relative cursor-default select-none py-2 pl-3 pr-9 ",e?"hover:bg-slate-3":"text-slate-12"),children:({selected:a})=>(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:n()("block truncate",a&&"font-semibold"),children:t.valueMapper(e)}),a&&s.jsx("span",{className:n()("absolute inset-y-0 right-0 flex items-center pr-4 text-slate-12"),children:s.jsx(i.dZ6,{className:"h-5 w-5","aria-hidden":"true"})})]})},a))})]})]})}},2167:e=>{e.exports=require("axios")},8103:e=>{e.exports=require("clsx")},1649:e=>{e.exports=require("next-auth/react")},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},989:e=>{e.exports=require("nextjs-google-analytics")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},72:e=>{e.exports=require("superjson")},5776:e=>{e.exports=import("@tanstack/react-query")},272:e=>{e.exports=import("@trpc/client")},7455:e=>{e.exports=import("@trpc/next")},5207:e=>{e.exports=import("@uiball/loaders")},9752:e=>{e.exports=import("@vercel/analytics/react")},6197:e=>{e.exports=import("framer-motion")},9926:e=>{e.exports=import("zod")},9890:e=>{e.exports=import("zustand")},3602:e=>{e.exports=import("zustand/middleware")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[209,510,873,583,592,805,202,809,807,71,164,151,363,504,973,101,870],()=>__webpack_exec__(3862));module.exports=a})();